window.addEventListener("DOMContentLoaded",()=>{function e(e,t){let n=parseInt(window.getComputedStyle(e).top);if(n>=0)return e.style.top="0px",clearInterval(f),f=null,void(null!=t&&t());n+=10,e.style.top=`${n}px`}function t(e,t){let n=parseInt(window.getComputedStyle(e).top);if(n<=-500)return e.style.top="-500px",clearInterval(h),h=null,void(null!=t&&t());n-=10,e.style.top=`${n}px`}function n(n,o){parseInt(window.getComputedStyle(n).top)<0?f||(f=null!=o?setInterval(e,10,n,o):setInterval(e,10,n)):h||(h=null!=o?setInterval(t,10,n,o):setInterval(t,10,n))}function o(e){if("name"===e.name){const t=/^[\s]*[^\!\@\#\$\%\^\&\*\=\+\~\`\{\}\[\]\\\|\'\"\;\:\/\?\.\>\,\<]*$/,n=2,o=255;return e.value.length>=n?e.value.length<=o?t.test(e.value)?(l(e),!0):(r(e,"Спеціальні символи, які можна використати:\n ( ) - _"),!1):(r(e,"Максимальна довжина імені: 255"),!1):(r(e,"Мінімальна довжина імені: 2"),!1)}if("phone"===e.name)try{return libphonenumber.parsePhoneNumber(e.value).isValid()?(l(e),!0):(r(e,"Перевірте, чи правильно написали номер телефону"),!1)}catch(t){return r(e,"Перевірте, чи правильно написали номер телефону"),!1}return!1}function r(e,t){if(0==!!e.parentNode.querySelector(".phone__form-error")){const n=document.createElement("label");n.htmlFor=e.id,n.className="phone__form-error",n.innerText=t,e.parentNode.append(n)}else if(e.parentNode.querySelector(".phone__form-error").innerText==t);else{l(e);const n=document.createElement("label");n.htmlFor=e.id,n.className="phone__form-error",n.innerText=t,e.parentNode.append(n)}}function l(e){e.parentNode.querySelector(".phone__form-error")&&e.parentNode.querySelector(".phone__form-error").remove()}const c=document.querySelector(".menu"),u=document.querySelectorAll(".menu_item"),a=document.querySelector(".menu_btn"),i=document.querySelector(".order_call"),s=document.querySelector(".phone"),d=(document.querySelector(".phone__window_order"),document.querySelector(".phone__window_done")),p=document.querySelectorAll(".phone__window-close"),m=document.querySelector("#phone-input"),_=document.querySelector("#name-input");let h,f,y=window.intlTelInput(m,{initialCountry:"auto",excludeCountries:["ru","kp","ir","sy"],utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.13/build/js/utils.js"}),v=[],w=!1;function S(e){$(e).click(function(){const t=$(e).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top+"px"}),!1})}m.addEventListener("input",function(e){let t=m.value;1!==t.length||y.getSelectedCountryData().iso2||"+"!==t&&(t=`+${m.value}`);let n=function(e){try{return libphonenumber.parsePhoneNumber(y.getNumber()).formatInternational()}catch(t){return e.replace(/[^0-9+() -]/,"")}}(t);m.value=n,o(e.target)}),_.addEventListener("input",e=>{o(e.target)}),i.addEventListener("click",()=>{if(document.querySelector(".order_call_active")){const e=o(_),t=o(m);if(e&&t){const e={userFirstName:_.value,userPhone:libphonenumber.parsePhoneNumber(m.value).number};v.push(e),console.dir(v),function(e){n(e.querySelector(".phone__window")),n(e.querySelector(".phone__window_done")),w=!0}(s),document.querySelector(".phone__form").reset(),i.classList.remove("order_call_active")}}else i.classList.toggle("order_call_active"),n(s)}),p.forEach(e=>{e.addEventListener("click",e=>{w?(w=!1,n(s,()=>{!function(e){if("phone__window phone__window_done"==e.className){const t=e.parentNode.querySelector(".phone__window_order");e.style.top="-500px",t.style.top="0px"}else{const t=e.parentNode.querySelector("phone__window phone__window_done");e.style.top="-500px",t.style.top="0px"}}(d)})):n(s),n(s),i.classList.remove("order_call_active")})}),a.addEventListener("click",()=>{a.classList.toggle("menu_btn_active"),c.classList.toggle("menu_active")}),u.forEach(e=>{e.addEventListener("click",()=>{a.classList.toggle("menu_btn_active"),c.classList.toggle("menu_active")})}),S($("a[href=#main]")),S($("a[href=#reasons]")),S($("a[href=#terms]")),S($("a[href=#footer]"))});