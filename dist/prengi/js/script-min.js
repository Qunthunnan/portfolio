function phoneSmallEditing(e){const o=["0","1","2","3","4","5","6","7","8","9","(",")","+"];if("string"==typeof e){let n="";e:for(let t=0;t<e.length;t++)for(let l=0;l<o.length;l++)if(e[t]==o[l]){n+=e[t];continue e}return n}return"error"}function headerSmallPhoneAdaptation(e){e.forEach(e=>{e.innerText=phoneSmallEditing(e.innerText)})}function headerNormalPhoneAdaptation(e,o){e.forEach((e,n)=>{e.innerHTML=o[n]})}function formatPhoneNumber(e){try{return libphonenumber.parsePhoneNumber(iti.getNumber()).formatInternational()}catch(o){return e.replace(/[^0-9+() -]/,"")}}function modalOpen(e,o){let n=+window.getComputedStyle(e).opacity;if(n>=1)return e.style.opacity=1,clearInterval(openInId),openInId=null,void(null!=o&&o());n+=.03,e.style.opacity=n}function modalClose(e,o){let n=+window.getComputedStyle(e).opacity;if(n<=0)return e.style.display="none",e.style.opacity=0,clearInterval(closeInId),closeInId=null,void(null!=o&&o());n-=.03,e.style.opacity=n}function modalOpenClose(e,o){"none"==window.getComputedStyle(e).display?(e.style.display="block",openInId||(openInId=null!=o?setInterval(modalOpen,10,e,o):setInterval(modalOpen,10,e))):closeInId||(closeInId=null!=o?setInterval(modalClose,10,e,o):setInterval(modalClose,10,e))}function modalSwitchDone(e){modalOpenClose(e.querySelector(".modal__window")),modalOpenClose(e.querySelector(".modal__window-done"))}function modalSwitchToAnother(e){if("modal__window modal__window-done"==e.className){const o=e.parentNode.querySelector(".modal__window");e.style.display="none",e.style.opacity=0,o.style.display="block",o.style.opacity=1}else{const o=e.parentNode.querySelector("modal__window modal__window-done");e.style.display="none",e.style.opacity=0,o.style.display="block",o.style.opacity=1}}function inputValidation(e){if("name"===e.name){const o=/^[\s]*[^\!\@\#\$\%\^\&\*\=\+\~\`\{\}\[\]\\\|\'\"\;\:\/\?\.\>\,\<]*$/,n=2,t=255;return e.value.length>=n?e.value.length<=t?o.test(e.value)?(deleteError(e),!0):(showErrors(e,"Спеціальні символи, які можна використати:\n ( ) - _"),!1):(showErrors(e,"Максимальна довжина імені: 255"),!1):(showErrors(e,"Мінімальна довжина імені: 2"),!1)}if("phone"===e.name)try{return libphonenumber.parsePhoneNumber(e.value).isValid()?(deleteError(e),!0):(showErrors(e,"Перевірте, чи правильно написали номер телефону"),!1)}catch(o){return showErrors(e,"Перевірте, чи правильно написали номер телефону"),!1}if("policy"===e.name){if(e.checked)return deleteError(e),!0;showErrors(e,"Потрібна ваша згода")}return!1}function showErrors(e,o){if(0==!!e.parentNode.querySelector(".modal__form-error")){const n=document.createElement("label");n.htmlFor=e.id,n.className="modal__form-error",n.innerText=o,e.parentNode.append(n)}else if(e.parentNode.querySelector(".modal__form-error").innerText==o);else{deleteError(e);const n=document.createElement("label");n.htmlFor=e.id,n.className="modal__form-error",n.innerText=o,e.parentNode.append(n)}}function deleteError(e){e.parentNode.querySelector(".modal__form-error")&&e.parentNode.querySelector(".modal__form-error").remove()}const headerPhonesElements=document.querySelectorAll(".header__country-text-tel"),headerPhones=[];headerPhonesElements.forEach((e,o)=>{headerPhones[o]=e.innerText});const smallDisplay=window.matchMedia("(max-width: 991px)"),normalDisplay=window.matchMedia("(min-width: 992px)"),mainSlider=new Splide('.splide[aria-label="mainSlider"]',{drag:!0,useIndex:!0}),mobileHeaderButton=document.querySelector(".header__mobile-button"),sliderContainer=document.querySelector(".main__slider-container");productsSlider=new Splide('.splide[aria-label="productsSlider"]'),productsButtons=["Prengi Production","Prengi FMC","Prengi Mallz","Retail Prengi","Logistic Prengi","IT Prengi HR"],modal=document.querySelector(".modal"),modalOverlay=document.querySelector(".modal__overlay"),singUpBtns=document.querySelectorAll(".button_singUp"),modalCloseBtn=modal.querySelectorAll(".modal__window-close"),nameInput=modal.querySelector(".modal__form-name input"),phoneInput=document.querySelector(".modal__form-phone input"),modalSubmitBtn=document.querySelector(".modal__form-submit"),policyChbox=modal.querySelector(".modal__form-policy input");let closeInId,openInId,iti=window.intlTelInput(phoneInput,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.13/build/js/utils.js",initialCountry:"auto",excludeCountries:["ru","kp","ir","sy"]}),users=[];phoneInput.addEventListener("input",function(e){let o=phoneInput.value;1!==o.length||iti.getSelectedCountryData().iso2||"+"!==o&&(o=`+${phoneInput.value}`);let n=formatPhoneNumber(o);phoneInput.value=n,inputValidation(e.target)}),nameInput.addEventListener("input",e=>{inputValidation(e.target)}),policyChbox.addEventListener("input",e=>{inputValidation(e.target)}),modalSubmitBtn.addEventListener("click",e=>{e.preventDefault();const o=inputValidation(nameInput),n=inputValidation(phoneInput),t=inputValidation(policyChbox);if(o&&n&&t){const e={userFirstName:nameInput.value,userPhone:libphonenumber.parsePhoneNumber(phoneInput.value).number};users.push(e),console.dir(users),modalSwitchDone(modal),document.querySelector(".modal__form").reset()}}),singUpBtns.forEach(e=>{e.addEventListener("click",()=>{modalOpenClose(modal)})}),modalCloseBtn.forEach(e=>{e.addEventListener("click",e=>{"modal__window modal__window-done"==e.target.parentNode.className?modalOpenClose(modal,()=>{modalSwitchToAnother(e.target.parentNode)}):modalOpenClose(modal)})}),modalOverlay.addEventListener("click",()=>{modalOpenClose(modal)}),smallDisplay.addEventListener("change",e=>{e.matches&&(console.log("matchSmall!"),headerSmallPhoneAdaptation(headerPhonesElements))}),normalDisplay.addEventListener("change",e=>{e.matches&&(console.log("normalMatch!"),headerNormalPhoneAdaptation(headerPhonesElements,headerPhones))}),mobileHeaderButton.addEventListener("click",()=>{mobileHeaderButton.classList.toggle("header__mobile-button-menu-active"),document.querySelector(".header").classList.toggle("header_menu-active")}),smallDisplay.matches&&headerSmallPhoneAdaptation(headerPhonesElements),mainSlider.mount(),productsSlider.on("pagination:mounted",function(e){e.list.classList.add("splide__pagination--custom"),e.items.forEach(function(e){e.button.textContent=productsButtons[e.page]})}),productsSlider.mount();